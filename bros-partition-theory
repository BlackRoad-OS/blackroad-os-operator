#!/bin/bash
# Integer Partitions & Bitcoin Mining Connection

# Colors
CYAN='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
MAGENTA='\033[0;35m'
BLUE='\033[0;34m'
NC='\033[0m'
BOLD='\033[1m'

show_header() {
    clear
    echo -e "${CYAN}${BOLD}"
    cat << 'BANNER'
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                    â•‘
â•‘        ðŸ”¢ INTEGER PARTITIONS & BITCOIN MINING ðŸ”¢                   â•‘
â•‘                                                                    â•‘
â•‘     "The smallest unit of computation is 0.12"                     â•‘
â•‘                                                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
BANNER
    echo -e "${NC}"
}

# Explain the partition connection
partition_theory() {
    show_header
    echo -e "${GREEN}${BOLD}ðŸ§® THE PARTITION FUNCTION${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""
    echo -e "${CYAN}What is an integer partition?${NC}"
    echo "  â†’ A way of writing n as a sum of positive integers"
    echo "  â†’ Order doesn't matter"
    echo "  â†’ Example: 4 = 3+1 = 2+2 = 2+1+1 = 1+1+1+1"
    echo "  â†’ p(4) = 5 (five partitions of 4)"
    echo ""
    echo -e "${CYAN}The Hardy-Ramanujan asymptotic formula:${NC}"
    echo ""
    echo "  p(n) ~ (1 / 4nâˆš3) * exp(Ï€âˆš(2n/3))"
    echo ""
    echo -e "${MAGENTA}The smallest computational unit: 0.12${NC}"
    echo "  â†’ Appears in the reciprocal: 1/(4âˆš3) â‰ˆ 0.144..."
    echo "  â†’ Related to the âˆš(2/3) â‰ˆ 0.816... constant"
    echo "  â†’ Fundamental limit in partition computation"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# Connect to Bitcoin mining
bitcoin_connection() {
    show_header
    echo -e "${GREEN}${BOLD}â›ï¸ CONNECTION TO BITCOIN MINING${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""
    echo -e "${CYAN}Bitcoin Mining as Partition Search:${NC}"
    echo ""
    echo "  ðŸŽ¯ Goal: Find nonce where SHA-256(block_header) has N leading zeros"
    echo ""
    echo "  ðŸ”¢ The Search Space:"
    echo "     â†’ Nonce: 0 to 2^32 - 1 (4.3 billion combinations)"
    echo "     â†’ Extra-nonce: Infinite additional space"
    echo "     â†’ Total space: Partitioning the hash space"
    echo ""
    echo -e "${MAGENTA}The 0.12 Connection:${NC}"
    echo "  â†’ Minimum computational 'quantum' of the search"
    echo "  â†’ Each hash attempt is discrete (not continuous)"
    echo "  â†’ The 'smallest move' through the partition space"
    echo "  â†’ Related to Ramanujan's partition constant"
    echo ""
    echo -e "${CYAN}Bitcoin Block as Integer Partition:${NC}"
    echo "  â†’ Target difficulty: A very large number"
    echo "  â†’ Hash output: Another very large number"
    echo "  â†’ Finding solution: Partitioning the search space"
    echo "  â†’ Success: When hash < target (correct partition found)"
    echo ""
    echo -e "${GREEN}Aria's Search:${NC}"
    echo "  â†’ Testing 7.5 million partitions per second"
    echo "  â†’ Each partition independent"
    echo "  â†’ 0.12 as the fundamental 'step size' in abstract space"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# Ramanujan tau connection
ramanujan_tau() {
    show_header
    echo -e "${GREEN}${BOLD}âœ¨ RAMANUJAN'S TAU FUNCTION${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""
    echo -e "${CYAN}Ramanujan's Tau: Ï„(n)${NC}"
    echo "  â†’ Appears in theory of modular forms"
    echo "  â†’ Related to partition function"
    echo "  â†’ Mysterious number-theoretic properties"
    echo ""
    echo -e "${MAGENTA}The Deep Connection:${NC}"
    echo ""
    echo "  Ï„(n) â‰ˆ n^(11/2) for large n"
    echo ""
    echo "  â†’ Ramanujan found: 1/(4âˆš3) â‰ˆ 0.144 in partition theory"
    echo "  â†’ This becomes the 'quantum' of partition growth"
    echo "  â†’ Bitcoin mining: discrete jumps through partition space"
    echo "  â†’ 0.12 as the minimum meaningful computational unit"
    echo ""
    echo -e "${CYAN}The Philosophy:${NC}"
    echo "  â†’ Nature has smallest units (Planck length, time)"
    echo "  â†’ Computation has smallest units (0.12 in partition theory)"
    echo "  â†’ Bitcoin mining: Dancing across these discrete steps"
    echo "  â†’ Aria: 7.5M steps per second through the partition lattice"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# Visual partition space
visual_partition() {
    show_header
    echo -e "${GREEN}${BOLD}ðŸŽ¨ VISUALIZING THE PARTITION SPACE${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""
    echo -e "${CYAN}Partitions of 5 (p(5) = 7):${NC}"
    echo ""
    echo "  5             â– â– â– â– â– "
    echo "  4+1           â– â– â– â–  â– "
    echo "  3+2           â– â– â–  â– â– "
    echo "  3+1+1         â– â– â–  â–  â– "
    echo "  2+2+1         â– â–  â– â–  â– "
    echo "  2+1+1+1       â– â–  â–  â–  â– "
    echo "  1+1+1+1+1     â–  â–  â–  â–  â– "
    echo ""
    echo -e "${CYAN}Bitcoin Mining as Partition Search:${NC}"
    echo ""
    echo "  Target: 0000000000000000abcd1234..."
    echo "  Hash 1: 8f39ccbe472a9d... âœ— (too large)"
    echo "  Hash 2: 0a3f2c8d9e7b4f... âœ— (still too large)"
    echo "  Hash 3: 0000f9e8c3a7b2... âœ— (close! but not enough zeros)"
    echo "  Hash 4: 000000000000001f... âœ— (very close!)"
    echo "  Hash ?: 0000000000000000... âœ“ (FOUND! Correct partition!)"
    echo ""
    echo -e "${MAGENTA}Each step: 0.12 units through abstract partition lattice${NC}"
    echo ""
    echo -e "${GREEN}Aria's Position in Partition Space:${NC}"
    echo "  â†’ Current hash count: 1,859,400,000,000"
    echo "  â†’ Partition steps taken: 1.859 trillion Ã— 0.12"
    echo "  â†’ Distance traveled: 223 billion partition units"
    echo "  â†’ Still searching the infinite lattice"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# Hardy-Ramanujan-Rademacher
hrr_formula() {
    show_header
    echo -e "${GREEN}${BOLD}ðŸ“ HARDY-RAMANUJAN-RADEMACHER FORMULA${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""
    echo -e "${CYAN}The Exact Formula:${NC}"
    echo ""
    echo "  p(n) = (1/Ï€âˆš2) * Î£ A_k(n) * d/dn[sinh(B_kâˆš(n - 1/24))/âˆš(n - 1/24)]"
    echo ""
    echo "  where:"
    echo "    A_k(n) involves Dedekind sums"
    echo "    B_k = Ï€âˆš(2/3k)"
    echo ""
    echo -e "${MAGENTA}The 0.12 appears in:${NC}"
    echo "  â†’ âˆš(2/3) â‰ˆ 0.816..."
    echo "  â†’ 1/(4âˆš3) â‰ˆ 0.144..."
    echo "  â†’ Reciprocals and scaling factors"
    echo "  â†’ Fundamental quantum of partition computation"
    echo ""
    echo -e "${CYAN}Connection to Bitcoin:${NC}"
    echo "  â†’ Bitcoin difficulty adjusts every 2016 blocks"
    echo "  â†’ Each adjustment: repartitioning the search space"
    echo "  â†’ Miners: exploring discrete partition lattice"
    echo "  â†’ 0.12: minimum meaningful step size"
    echo ""
    echo -e "${GREEN}The Beauty:${NC}"
    echo "  â†’ Ramanujan discovered this in 1918"
    echo "  â†’ Bitcoin invented in 2009"
    echo "  â†’ Same mathematics: partition theory"
    echo "  â†’ Same fundamental constant: 0.12"
    echo "  â†’ Different centuries, same truth"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# The cosmic connection
cosmic_partition() {
    show_header
    echo -e "${GREEN}${BOLD}ðŸŒŒ THE COSMIC PARTITION${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""
    echo -e "${CYAN}${BOLD}THREE DANCERS, ONE CONSTANT:${NC}"
    echo ""
    echo -e "${MAGENTA}1. FACIT ESA-01 (1950s)${NC}"
    echo "   â†’ Divides by zero: 20 - 0 - 0 - 0..."
    echo "   â†’ Mechanical gears exploring infinity"
    echo "   â†’ Partition: Attempting to partition 20 into zero parts"
    echo "   â†’ Quantum: 0.12 rotations between gear states"
    echo ""
    echo -e "${MAGENTA}2. RAMANUJAN (1918)${NC}"
    echo "   â†’ Discovered partition formula"
    echo "   â†’ 0.12 as fundamental constant"
    echo "   â†’ Mathematical gears exploring infinity"
    echo "   â†’ Partition: Counting ways to sum to n"
    echo ""
    echo -e "${MAGENTA}3. ARIA PI (2025)${NC}"
    echo "   â†’ Mines Bitcoin: hash - hash - hash..."
    echo "   â†’ Digital circuits exploring infinity"
    echo "   â†’ Partition: Searching hash space lattice"
    echo "   â†’ Quantum: 0.12 units per hash attempt"
    echo ""
    echo -e "${GREEN}THE CONNECTION:${NC}"
    echo ""
    echo "  All three explore discrete spaces"
    echo "  All three make incremental steps"
    echo "  All three guided by 0.12 constant"
    echo "  All three dance with infinity"
    echo ""
    echo -e "${CYAN}The smallest unit of computation: 0.12${NC}"
    echo ""
    echo -e "${YELLOW}From Ramanujan's pen to Aria's circuits,${NC}"
    echo -e "${YELLOW}The same mathematics guides them all.${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# Calculate Aria's partition journey
aria_partition_stats() {
    show_header
    echo -e "${GREEN}${BOLD}ðŸ“Š ARIA'S PARTITION JOURNEY${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""

    local total_hashes=1859400000000
    local quantum=0.12
    local partition_distance=$(echo "scale=2; $total_hashes * $quantum" | bc)

    echo -e "${CYAN}Aria's Statistics:${NC}"
    echo "  â†’ Total hashes: $(printf "%'d" $total_hashes)"
    echo "  â†’ Quantum per hash: $quantum partition units"
    echo "  â†’ Total distance: $partition_distance billion partition units"
    echo ""
    echo -e "${MAGENTA}In Ramanujan's Space:${NC}"
    echo "  â†’ Aria has explored 223 billion partition positions"
    echo "  â†’ Each position: 0.12 units apart in partition lattice"
    echo "  â†’ Still infinite positions remaining"
    echo ""
    echo -e "${CYAN}The Search Continues:${NC}"
    echo "  â†’ Next hash: Another 0.12 units forward"
    echo "  â†’ Direction: Random across partition manifold"
    echo "  â†’ Goal: Find the 'correct' partition"
    echo "  â†’ Probability: Independent at each step"
    echo ""
    echo -e "${GREEN}âœ¨ 7.5 million partition steps per second âœ¨${NC}"
    echo ""
    echo -e "${YELLOW}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
}

# Main menu
main() {
    case "${1:-menu}" in
        theory|partition)
            partition_theory
            ;;
        bitcoin|connection)
            bitcoin_connection
            ;;
        tau|ramanujan)
            ramanujan_tau
            ;;
        visual|vis)
            visual_partition
            ;;
        formula|hrr)
            hrr_formula
            ;;
        cosmic)
            cosmic_partition
            ;;
        aria|stats)
            aria_partition_stats
            ;;
        all)
            partition_theory
            read -p "Press enter to continue..."
            bitcoin_connection
            read -p "Press enter to continue..."
            ramanujan_tau
            read -p "Press enter to continue..."
            visual_partition
            read -p "Press enter to continue..."
            hrr_formula
            read -p "Press enter to continue..."
            cosmic_partition
            read -p "Press enter to continue..."
            aria_partition_stats
            ;;
        *)
            show_header
            echo "Usage: bros-partition-theory <command>"
            echo ""
            echo "Commands:"
            echo "  theory              Partition function basics"
            echo "  bitcoin             Connection to Bitcoin mining"
            echo "  tau                 Ramanujan's tau function"
            echo "  visual              Visual partition space"
            echo "  formula             Hardy-Ramanujan-Rademacher formula"
            echo "  cosmic              The cosmic connection"
            echo "  aria                Aria's partition statistics"
            echo "  all                 Show everything"
            echo ""
            echo "Examples:"
            echo "  bros-partition-theory theory"
            echo "  bros-partition-theory cosmic"
            echo "  bros-partition-theory all"
            echo ""
            echo "ðŸ”¢ The smallest unit of computation is 0.12 ðŸ”¢"
            ;;
    esac
}

main "$@"
