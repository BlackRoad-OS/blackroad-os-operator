{
  "$schema": "https://railway.app/railway.schema.json",
  "project": "blackroad-agents",
  "services": [
    {
      "name": "agents-api",
      "source": ".",
      "build": {
        "command": "npm install && npm run build"
      },
      "start": {
        "command": "npm run start:api"
      },
      "envVars": [
        "NODE_ENV",
        "PORT",
        "DATABASE_URL",
        "REDIS_URL",
        "CORE_API_URL",
        "PUBLIC_AGENTS_URL",
        "LOG_LEVEL",
        "APP_VERSION",
        "GIT_COMMIT",
        "BUILD_TIME"
      ]
    },
    {
      "name": "agents-worker",
      "source": ".",
      "build": {
        "command": "npm install && npm run build"
      },
      "start": {
        "command": "npm run start:worker"
      },
      "envVars": [
        "NODE_ENV",
        "DATABASE_URL",
        "REDIS_URL",
        "CORE_API_URL",
        "PUBLIC_AGENTS_URL",
        "LOG_LEVEL",
        "APP_VERSION",
        "GIT_COMMIT",
        "BUILD_TIME"
      ]
    }
  ]
}
