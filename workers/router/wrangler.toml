# BlackRoad OS Edge Router
# Routes requests to appropriate backends (Railway, Pages, R2)
# Cost: FREE (100k requests/day on free tier)

name = "blackroad-router"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Routes - which domains this worker handles
# routes = [
#   { pattern = "api.blackroad.io/*", zone_name = "blackroad.io" }
# ]

# Environment variables
[vars]
RAILWAY_API_URL = "https://blackroad-os-docs-production.up.railway.app"
PAGES_URL = "https://blackroad-os-web.pages.dev"
ENVIRONMENT = "production"

# KV Namespaces
[[kv_namespaces]]
binding = "CACHE"
id = "c878fbcc1faf4eddbc98dcfd7485048d"

[[kv_namespaces]]
binding = "AGENTS"
id = "0f1302ff7d4c48dbb54148b822709193"

[[kv_namespaces]]
binding = "LEDGER"
id = "47f5329a68434bd481fa9b159bbd89fd"

# R2 Bucket for assets (when enabled)
# [[r2_buckets]]
# binding = "ASSETS"
# bucket_name = "blackroad-assets"
